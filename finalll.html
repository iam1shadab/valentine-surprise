<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For You ‚ù§Ô∏è</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600&family=Montserrat:wght@300;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --nude-pink: #F7E1D7;
            --dusty-rose: #EDAFB8;
            --soft-white: #FBFAF0;
            --text-color: #6D5959;
            --deep-red: #C34A4A;
        }

        body {
            margin: 0;
            background-color: var(--soft-white);
            font-family: 'Montserrat', sans-serif;
            color: var(--text-color);
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        /* Intro Section */
        #intro { text-align: center; padding: 20px; }
        h1 { font-family: 'Dancing Script', cursive; font-size: 3rem; color: var(--dusty-rose); margin-bottom: 10px; }
        
        .btn-open {
            background-color: var(--nude-pink);
            color: var(--text-color);
            border: 1px solid var(--dusty-rose);
            padding: 12px 30px;
            border-radius: 50px;
            font-family: 'Montserrat', sans-serif;
            letter-spacing: 2px;
            cursor: pointer;
            transition: all 0.4s ease;
            margin-top: 20px;
        }
        .btn-open:hover { background-color: var(--dusty-rose); color: white; }

        /* Lyrics Section */
        #player-ui {
            display: none;
            width: 100%;
            height: 100vh;
            background: linear-gradient(to bottom, var(--soft-white), var(--nude-pink));
            overflow-y: scroll;
            scroll-behavior: smooth;
            padding-top: 50vh; padding-bottom: 50vh;
        }
        #player-ui::-webkit-scrollbar { display: none; }
        .lyric-line {
            font-size: 1.4rem; font-weight: 500; color: rgba(109, 89, 89, 0.3);
            margin: 40px 20px; text-align: center; transition: all 0.5s ease;
            max-width: 80%; margin-left: auto; margin-right: auto;
        }
        .lyric-line.active { color: var(--text-color); transform: scale(1.15); font-weight: 600; }

        /* Game UI */
        #game-container { display: none; position: fixed; width: 100%; height: 100%; background-color: var(--soft-white); z-index: 100; }
        .falling-heart { position: absolute; font-size: 35px; cursor: pointer; user-select: none; filter: sepia(0.3); }
        #score-board { font-family: 'Dancing Script', cursive; font-size: 2rem; padding: 30px; text-align: center; color: var(--dusty-rose); }

        /* Final Message */
        #final-card {
            display: none;
            background: white;
            padding: 40px 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.05);
            max-width: 320px;
            text-align: center;
            border: 8px solid var(--nude-pink);
        }

        .special-date {
            font-size: 0.8rem; letter-spacing: 2px; text-transform: uppercase;
            color: var(--dusty-rose); margin: 20px 0; border-top: 1px solid var(--nude-pink); padding-top: 10px;
        }

        /* YES / NO Buttons */
        .proposal-btns { display: flex; justify-content: center; gap: 20px; margin-top: 20px; }
        .btn-yes { background-color: var(--dusty-rose); color: white; border: none; padding: 10px 25px; border-radius: 20px; cursor: pointer; }
        .btn-no { background-color: #ddd; color: #777; border: none; padding: 10px 25px; border-radius: 20px; position: relative; }

        .game-trigger-btn { position: fixed; bottom: 40px; left: 50%; transform: translateX(-50%); z-index: 10; }
        
        /* Success Message */
        #success-msg { display: none; color: var(--deep-red); font-weight: bold; margin-top: 15px; animation: popIn 0.5s ease; }
        @keyframes popIn { from{transform: scale(0);} to{transform: scale(1);} }
    </style>
</head>
<body>

    <audio id="music">
        <source src="c:\Users\shada\Downloads\Edd_Sheeran_-_Perfect_(mp3.pm).mp3" type="audio/mpeg">
    </audio>

    <div id="intro">
        <h1>For My Shanaya</h1>
        <p>A little piece of my heart, just for you.</p>
        <button class="btn-open" onclick="startExperience()">OPEN</button>
    </div>

    <div id="player-ui">
        <div class="lyric-line" data-time="3">I found a love for me...</div>
        <div class="lyric-line" data-time="10">Darling, just dive right in and follow my lead</div>
        <div class="lyric-line" data-time="18">I found a girl, beautiful and sweet</div>
        <div class="lyric-line" data-time="26">I never knew you were the someone waiting for me</div>
        <div class="lyric-line" data-time="34">'Cause we were just kids when we fell in love</div>
        <div class="lyric-line" data-time="39">Not knowing what it was...</div>
        <div class="lyric-line" data-time="44">I will not give you up this time</div>
        <div class="lyric-line" data-time="51">But darling, just kiss me slow...</div>
        <div class="lyric-line" data-time="57">Your heart is all I own</div>
        <div class="lyric-line" data-time="63">And in your eyes, you're holding mine</div>
        
        <button id="game-btn" class="btn-open game-trigger-btn hidden" onclick="goToGame()">Play a Game?</button>
    </div>

    <div id="game-container">
        <div id="score-board">Catch 10 hearts: <span id="score">0</span></div>
    </div>

    <div id="final-card">
        <h1 style="font-size: 2rem;">You Won!</h1>
        
        <div class="special-date">
            A star was born on<br><b>01 Jan 2006</b>
        </div>

        <p style="font-size: 0.95rem; line-height: 1.6; font-style: italic; color: #555;">
            "They say distance separates people, but even from miles away, 
            your smile is the only thing that brings me home."
        </p>

        <p style="font-weight: 600; margin-top: 20px;">So, Shanaya...</p>
        <h2 style="font-family: 'Dancing Script'; color: var(--deep-red);">Will you be my Valentine?</h2>

        <div class="proposal-btns">
            <button class="btn-yes" onclick="sheSaidYes()">YES! ‚ù§Ô∏è</button>
            <button class="btn-no" onmouseover="moveButton(this)" onclick="moveButton(this)">No üò¢</button>
        </div>

        <div id="success-msg">
            I knew you'd say yes! <br> See you soon. ‚úàÔ∏è‚ù§Ô∏è
        </div>
    </div>

    <script>
        const audio = document.getElementById('music');
        const lines = document.querySelectorAll('.lyric-line');
        let score = 0;

        function startExperience() {
            document.getElementById('intro').style.display = 'none';
            document.getElementById('player-ui').style.display = 'block';
            audio.play();

            audio.ontimeupdate = () => {
                const time = audio.currentTime;
                
                // Show game button after 65 seconds
                if(time > 65) document.getElementById('game-btn').classList.remove('hidden');

                lines.forEach((line) => {
                    const lineTime = parseFloat(line.getAttribute('data-time'));
                    // We check if current time is GREATER than the line time
                    if (time >= lineTime) {
                        lines.forEach(l => l.classList.remove('active'));
                        line.classList.add('active');
                        line.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    }
                });
            };
        }

        function goToGame() {
            document.getElementById('player-ui').style.display = 'none';
            document.getElementById('game-container').style.display = 'block';
            spawnHeart();
        }

        function spawnHeart() {
            if (score >= 10) {
                document.getElementById('game-container').style.display = 'none';
                document.getElementById('final-card').style.display = 'block';
                return;
            }
            const heart = document.createElement('div');
            heart.innerHTML = 'ü§ç';
            heart.className = 'falling-heart';
            heart.style.left = Math.random() * 80 + 10 + 'vw';
            heart.style.top = '-50px';
            document.getElementById('game-container').appendChild(heart);

            let pos = -50;
            const interval = setInterval(() => {
                pos += 2.5;
                heart.style.top = pos + 'px';
                if (pos > window.innerHeight) {
                    clearInterval(interval);
                    heart.remove();
                    spawnHeart();
                }
            }, 20);

            heart.onclick = () => {
                score++;
                document.getElementById('score').innerText = score;
                clearInterval(interval);
                heart.remove();
                spawnHeart();
            };
        }

        function moveButton(btn) {
            const x = Math.random() * (window.innerWidth - 100);
            const y = Math.random() * (window.innerHeight - 100);
            btn.style.position = 'fixed';
            btn.style.left = x + 'px';
            btn.style.top = y + 'px';
        }

        function sheSaidYes() {
            document.querySelector('.proposal-btns').style.display = 'none';
            document.getElementById('success-msg').style.display = 'block';
            
            for(let i=0; i<30; i++) {
                const heart = document.createElement('div');
                heart.innerHTML = 'üåπ';
                heart.className = 'falling-heart';
                heart.style.left = Math.random() * 100 + 'vw';
                heart.style.animationDuration = Math.random() * 2 + 3 + 's';
                document.body.appendChild(heart);
            }
        }
    </script>
</body>
</html>